// src/views/StudentView.vue
<template>
  <div class="container mx-auto p-4">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-2xl font-bold text-gray-800">Student Reading</h1>
      <div class="border-blue-500 border-b-2 w-32 mt-2"></div>
    </div>

    <!-- Reading Interface -->
    <ReadingInterface
      v-if="currentChunk"
      :text="currentText"
      :chunk="currentChunk"
      :question="currentQuestion"
      :isLoading="isLoading"
      :totalChunks="currentText?.total_chunks || 1"
      @exit="exitReading"
      @next="loadNextChunk"
      @submit-answer="handleAnswerSubmit"
      @retry="handleRetry"
    />

    <!-- Teacher and Text Selection -->
    <template v-else>
      <TeacherList
        v-if="!selectedTeacher"
        :teachers="teachers"
        :isLoading="isLoading"
        @select="selectTeacher"
      />

      <TextList
        v-else
        :teacher="selectedTeacher"
        :texts="texts"
        :isLoading="isLoading"
        @back="selectedTeacher = null"
        @select="startReading"
      />
    </template>
  </div>
</template>
